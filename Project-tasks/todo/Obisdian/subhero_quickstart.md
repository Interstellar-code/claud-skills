# Quick Start: Obsidian + GitHub Setup for Subhero Project
## Practical Implementation Guide

### ğŸš€ 30-Minute Setup

#### Step 1: Initialize Obsidian Vault (5 min)
```bash
cd ~/projects/subhero
mkdir .obsidian-tasks
cd .obsidian-tasks

# Create initial structure
mkdir -p tasks/{todo,in-progress,review,done}
mkdir -p docs/api
mkdir templates
mkdir dashboards

# Add to .gitignore (in project root)
echo ".obsidian/workspace*" >> ../.gitignore
echo ".obsidian/cache" >> ../.gitignore
```

#### Step 2: Install Essential Plugins (5 min)
1. Open folder as Obsidian vault
2. Settings â†’ Community Plugins â†’ Turn on
3. Browse and install:
   - **Obsidian Git** (for sync)
   - **Tasks** (for task management)
   - **Dataview** (for queries)
   - **Local REST API** (for LLM integration)
   - **Templater** (for templates)

#### Step 3: Configure Git Plugin (3 min)
```yaml
Settings â†’ Obsidian Git:
  Vault backup interval: 10 minutes
  Commit message: "task-vault: {{date}}"
  Pull updates on startup: âœ“
  Push on backup: âœ“
  Auto pull interval: 5 minutes
```

#### Step 4: Create Task Template (2 min)
Save as `templates/task.md`:
```markdown
---
id: TASK-{{date:YYYYMMDDHHmmss}}
type: task
status: todo
priority: medium
project: subhero
component: 
assignee: rohit
created: {{date}}
updated: {{date}}
estimated_hours: 
tags: []
---

# {{title}}

## Description
{{cursor}}

## Acceptance Criteria
- [ ] 

## Technical Details
**Files to modify:**
- 

**Dependencies:**
- 

## Notes


---
*Status Updates:*
- {{date}}: Created task
```

#### Step 5: Setup REST API (5 min)
1. Enable Local REST API plugin
2. Settings â†’ Local REST API:
   - Generate new API key â†’ Copy it
   - Port: 27123
   - Enable HTTPS: âœ“
3. Test connection:
```bash
curl -X GET https://localhost:27123/vault/ \
  -H "Authorization: Bearer YOUR_API_KEY" \
  --insecure
```

#### Step 6: Create Dashboard (5 min)
Save as `dashboards/main.md`:
```markdown
# Subhero Project Dashboard

## ğŸ“Š Overview
```dataview
TABLE WITHOUT ID
  length(filter(rows.file.tasks, (t) => t.completed)) as "âœ… Done",
  length(filter(rows.file.tasks, (t) => !t.completed)) as "â³ Pending",
  length(rows) as "ğŸ“ Total Tasks"
FROM "tasks"
WHERE project = "subhero"
```

## ğŸ”¥ High Priority
```dataview
TABLE status, component, estimated_hours as "Hours"
FROM "tasks"
WHERE priority = "high" AND status != "done"
SORT created DESC
```

## ğŸš€ In Progress
```dataview
LIST
FROM "tasks/in-progress"
SORT updated DESC
```

## ğŸ“ Todo (Next 5)
```dataview
TABLE priority, component, estimated_hours as "Est."
FROM "tasks/todo"
LIMIT 5
SORT priority DESC, created ASC
```

## âœ… Recently Completed
```dataview
LIST
FROM "tasks/done"
SORT updated DESC
LIMIT 5
```
```

#### Step 7: LLM Integration Script (5 min)
Save as `scripts/task_manager.py`:
```python
#!/usr/bin/env python3
import requests
import json
from datetime import datetime

class ObsidianTaskManager:
    def __init__(self, api_key, base_url="https://localhost:27123"):
        self.api_key = api_key
        self.base_url = base_url
        self.headers = {
            "Authorization": f"Bearer {api_key}",
            "Content-Type": "application/json"
        }
    
    def get_pending_tasks(self):
        """Get all pending tasks for Subhero project"""
        response = requests.get(
            f"{self.base_url}/vault/",
            headers=self.headers,
            verify=False
        )
        
        files = response.json()["files"]
        tasks = []
        
        for file in files:
            if file["path"].startswith("tasks/todo/"):
                task_response = requests.get(
                    f"{self.base_url}/vault/{file['path']}",
                    headers=self.headers,
                    verify=False
                )
                tasks.append({
                    "path": file["path"],
                    "content": task_response.json()["content"]
                })
        
        return tasks
    
    def create_task(self, title, description, priority="medium", component=""):
        """Create a new task from LLM output"""
        task_id = datetime.now().strftime("TASK-%Y%m%d%H%M%S")
        filename = f"tasks/todo/{task_id}-{title.replace(' ', '-').lower()}.md"
        
        content = f"""---
id: {task_id}
type: task
status: todo
priority: {priority}
project: subhero
component: {component}
assignee: rohit
created: {datetime.now().isoformat()}
updated: {datetime.now().isoformat()}
tags: [ai-generated]
---

# {title}

## Description
{description}

## Acceptance Criteria
- [ ] Implementation complete
- [ ] Tests written
- [ ] Code reviewed

## Technical Details
*Generated by AI - requires review*

---
*Status Updates:*
- {datetime.now().strftime('%Y-%m-%d %H:%M')}: Created by AI agent
"""
        
        response = requests.put(
            f"{self.base_url}/vault/{filename}",
            headers=self.headers,
            json={"content": content},
            verify=False
        )
        
        return response.status_code == 200
    
    def move_task_to_progress(self, task_path):
        """Move task from todo to in-progress"""
        # Get current content
        response = requests.get(
            f"{self.base_url}/vault/{task_path}",
            headers=self.headers,
            verify=False
        )
        content = response.json()["content"]
        
        # Update status in frontmatter
        content = content.replace("status: todo", "status: in-progress")
        content = content.replace(f"updated: ", f"updated: {datetime.now().isoformat()}\nstarted: ")
        
        # Delete old file
        requests.delete(
            f"{self.base_url}/vault/{task_path}",
            headers=self.headers,
            verify=False
        )
        
        # Create in new location
        new_path = task_path.replace("tasks/todo/", "tasks/in-progress/")
        requests.put(
            f"{self.base_url}/vault/{new_path}",
            headers=self.headers,
            json={"content": content},
            verify=False
        )
        
        return True

# Example usage
if __name__ == "__main__":
    # Replace with your actual API key
    API_KEY = "your-api-key-here"
    
    manager = ObsidianTaskManager(API_KEY)
    
    # Create a task from LLM output
    manager.create_task(
        title="Implement User Authentication",
        description="Add JWT-based authentication to the API endpoints",
        priority="high",
        component="backend/auth"
    )
    
    # Get pending tasks
    tasks = manager.get_pending_tasks()
    for task in tasks:
        print(f"Found task: {task['path']}")
```

---

### ğŸ¤– LLM Agent Prompt Template

Use this prompt with your coding agent:

```markdown
You are a coding assistant for the Subhero project. 

Before starting any implementation:
1. Check pending tasks via Obsidian API
2. Select appropriate task to work on
3. Update task status to "in-progress"
4. After completion, update status to "review"

Task Format:
- Tasks are in markdown with YAML frontmatter
- Location: .obsidian-tasks/tasks/{status}/
- Statuses: todo, in-progress, review, done

When implementing:
1. Read task acceptance criteria
2. Check technical details section
3. Update task with progress notes
4. Link relevant commits in task notes

API Endpoint: https://localhost:27123
Use the ObsidianTaskManager class for all task operations.
```

---

### ğŸ“ Final Folder Structure

```
subhero/
â”œâ”€â”€ src/
â”œâ”€â”€ tests/
â”œâ”€â”€ .obsidian-tasks/
â”‚   â”œâ”€â”€ .obsidian/
â”‚   â”œâ”€â”€ tasks/
â”‚   â”‚   â”œâ”€â”€ todo/
â”‚   â”‚   â”œâ”€â”€ in-progress/
â”‚   â”‚   â”œâ”€â”€ review/
â”‚   â”‚   â””â”€â”€ done/
â”‚   â”œâ”€â”€ dashboards/
â”‚   â”‚   â””â”€â”€ main.md
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â””â”€â”€ task.md
â”‚   â”œâ”€â”€ docs/
â”‚   â””â”€â”€ scripts/
â”‚       â””â”€â”€ task_manager.py
â””â”€â”€ .gitignore
```

---

### ğŸ¯ Daily Workflow

#### Morning
1. Open Obsidian vault
2. Check dashboard for priorities
3. Move selected tasks to in-progress
4. Git auto-syncs changes

#### During Development
1. LLM agent reads task details via API
2. Implements code based on requirements
3. Updates task notes with progress
4. Links commits to tasks

#### Evening Review
1. Move completed tasks to done
2. Update task notes with outcomes
3. Create new tasks for tomorrow
4. Git backup runs automatically

---

### ğŸ”§ Troubleshooting

**Issue**: Git conflicts in vault
```bash
# Solution: Separate branches for tasks
git checkout -b tasks-vault
git push -u origin tasks-vault
```

**Issue**: API connection refused
```bash
# Check if Obsidian is running
# Verify API key in settings
# Check firewall for port 27123
```

**Issue**: Tasks not showing in dashboard
```markdown
# Verify frontmatter format
# Check Dataview syntax
# Refresh Dataview cache: Cmd/Ctrl+R
```

---

### ğŸ“ˆ Next Steps

1. **Week 1**: Use basic setup, create 10+ tasks
2. **Week 2**: Add Kanban board for visual tracking
3. **Week 3**: Integrate with CI/CD pipeline
4. **Week 4**: Create team member vaults

### ğŸ‰ You're Ready!

Your Obsidian task management is now integrated with Subhero project. The LLM agents can read tasks, update statuses, and you have full visibility of project progress!

Remember: Start simple, iterate based on what works for your workflow.
